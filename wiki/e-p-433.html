<DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>e-p-433</title>
		<link rel="stylesheet" href="e-p-433.css" />
	</head>
<h1><mark>Contexte</mark></h1>

<p>Dans le cadre du <strong>S</strong>ystème de <strong>C</strong>uisson <strong>A</strong>ssistée par <strong>O</strong>rdinateur <a href="http://fablabo.net/wiki/SCAO"><strong>SCAO</strong></a> et de son <a href="http://fablabo.net/wiki/SCAO#Prototype_n.C2.B03">prototype N°3</a>, la e-poignée 433MHZ <a href="http://fablabo.net/wiki/E-poign%C3%A9e-433">e-p-433</a> est l'un des objets connectés de ce prototype.</p>

<p>Le prototypage définit par le <a href="http://fablabo.net/wiki/SCAO#Prototypage">SCAO</a> est interprété, au sens large, comme regroupant toutes les activités qui concourent à la réalisation du prototype.</p>

<h1>Objet</h1>

<p>L'objet de la e-poignée 433 MHZ est double :
* la mesure de la température sur le couvercle de la casserole
* la transmission de la valeur mesurée au e-rupteur 433 MHZ.</p>

<h1>Description physique</h1>

<p><img src="https://github.com/AIREL46/SCAO/blob/master/Ping/openscad/Assemblage_d.png" alt="Assemblage de la e-poignée 433 MHZ" title="" /></p>

<p>La e-poignée 433 MHZ communique avec le e-rupteur par  radio.
Elle est équipé de 2 amplificateurs de thermocouple, une batterie LI-ION, un chargeur de batterie, d'un microcontrôleur Teensy 3.2 et un émetteur 433 MHZ. Dans un effort de miniaturisation, un circuit imprimé regroupe ces composants (CMS et traversants).</p>

<h1>Nomenclature</h1>

<p>Une nomenclature permet de répertorier les éléments de la e-poignée 433, la première colonne indique le niveau de décomposition :</p>

<p>
<table>
<caption>Nomenclature e-p-433</caption>
<tr><th>Niv</th><th>Designation</th><th>Founisseur</th><th>Type</th><th>Reference</th><th>Rep</th><th>Qty</th></tr>
<tr><td>•</td><td>Vis M3</td><td></td><td>Achat</td><td></td><td>1</td><td>4</td></tr>
<tr><td>•</td><td>Rondelles M3</td><td></td><td>Achat</td><td></td><td>2</td><td>4</td></tr>
<tr><td>•</td><td>CI CMS e-p-433</td><td><a href="http://fablabo.net/wiki/Utilisateur:LERUSTE_REGIS">RL</a></td><td>Management</td><td>WBS</td><td>3</td><td>1</td></tr>
<tr><td>•</td><td>Lithium Ion Battery - 400mAh</td><td><a href="https://www.sparkfun.com">Sparkfun</a></td><td>Achat</td><td><a href="https://www.sparkfun.com/products/13851">PRT-13851</a></td><td>4</td><td>1</td></tr>
<tr><td>•</td><td>Entretoises M3</td><td></td><td>Achat</td><td></td><td>11</td><td>4</td></tr>
<tr><td>•</td><td>Rondelles</td><td></td><td>Achat</td><td></td><td>6</td><td>4</td></tr>
<tr><td>•</td><td>Jupe</td><td><a href="http://www.citedelobjetconnecte.com/">Iot city</a></td><td>IMP3D</td><td><a href="https://github.com/AIREL46/SCAO/blob/master/Ping/openscad/jupe-433.gcode">jupe-433.gcode</a></td><td>9</td><td>1</td></tr>
<tr><td>•</td><td>Ecrou M5</td><td></td><td>Achat</td><td></td><td>10</td><td>1</td></tr>
<tr><td>•</td><td>Isolateur</td><td><a href="http://www.citedelobjetconnecte.com/">Iot city</a></td><td>Découpe laser</td><td><a href="https://github.com/AIREL46/SCAO/blob/master/Ping/LibreCAD/Isolateur_a.dxf">Isolateur_a.dxf</a></td><td>13</td><td>1</td></tr>
<tr><td>•</td><td>Rondelles M3</td><td></td><td>Achat</td><td></td><td>14</td><td>4</td></tr>
<tr><td>•</td><td>Vis M3</td><td></td><td>Achat</td><td></td><td>15</td><td>4</td></tr>
<tr><td>•</td><td>Entretoise de fixation</td><td></td><td>Atelier</td><td></td><td>16</td><td>1</td></tr>
<tr><td>•</td><td>Capteur de température</td><td></td><td>Atelier</td><td></td><td>17</td><td>1</td></tr>
<tr><td>•</td><td>Couvercle</td><td>AMC</td><td>Achat</td><td></td><td>18</td><td>1</td></tr>
</table>
</p>

<p>La modélisation des différents sous-ensembles fait appel principalement à deux logiciels :
* <a href="http://www.openscad.org/">Openscad</a> pour les pièces fabriquées en impression 3D.
* <a href="http://www.kicad-pcb.org/">kicad</a> pour le CI CMS e-p-433.</p>

<h1>Description fonctionnelle</h1>

<p><img src="http://fablabo.net/mediawiki/images/1/16/E-p-433.png" alt="Schéma fonctionnel de la e-poignée 433 MHZ" title="" />
La fonction globale e-p-433 est la <a href="http://fablabo.net/wiki/SCAO#Mesure_de_la_temp.C3.A9rature">mesure de la température</a> sur l'entretoise de fixation [16] et sa transmission en mode radio au e-rupteur <a href="http://fablabo.net/wiki/E-rupteur-433">e-r-433</a>. Cette fonction se décline par :
* La capture avec contact de la température sur l'entretoise [16] à l'aide d'un capteur de température [17]
* Le traitement du signal délivré par le thermocouple (filtrage, amplification, conversion analogique digitale)
* La transmission radio vers le e-r-433
* Des fonctions secondaires : Battery manager, calibration, <a href="https://fr.wikipedia.org/wiki/Interactions_homme-machine">IHM</a>. </p>

<h1>Description détaillée</h1>

<p>Ce paragraphe est structuré selon les articles de la nomenclature de la e-poignée 433MHZ.</p>

<p>Les articles de visserie repérés [1], [2], [5], [6], [10], [11], [12], [14], [15], ne font pas l'objet de paragraphes spécifiques.</p>

<p>Les autres repérés [3], [4], [9], [13], [16] et [17], font l'objet de paragraphes spécifiques.</p>

<h2>Entretoise de fixation [16]</h2>

<h3>Objet</h3>

<p>L'objet de l'entretoise de fixation [16] est de constituer la fixation mécanique de la e-p-433 sur le couvercle [18]. En complément, de prévoir le logement du capteur de température [17] pour qu'il puisse être correctement maintenu et positionner.</p>

<h3>Conception et réalisation</h3>

<h4>Version 1</h4>

<p>L'entretoise de fixation [16] est constituée d'une entretoise M5. Elle est modifiée en atelier selon les indications suivantes :
* <a href="http://fablabo.net/wiki/20170409091838">Usinage d'une fraisure</a>
<img src="http://fablabo.net/mediawiki/images/b/b0/Ent-M5.png" alt="Entretoise M5" width=100%; height=auto; title="" />
* Perçage d'un trou, de 1mm de diamêtre, à mi-hauteur de la partie hexagonale, pour permettre l'introduction du thermocouple.</p>

<h4>Version 2</h4>

<p>L'entretoise de fixation [16] est constituée d'une entretoise spécifique en aluminium :
<img src="https://github.com/AIREL46/SCAO/blob/master/Ping/LibreCAD/ent-alu.png" alt="Entretoise aluminium de la e-poignée 433 MHZ" title="" /></p>

<p><img src="https://github.com/AIREL46/SCAO/blob/master/wiki/ent-alu-photo.png" alt="Entretoise aluminium de la e-poignée 433 MHZ" title="" /></p>

<h2>Capteur de température [17]</h2>

<h3>Objet</h3>

<p>L'objet du capteur de température est la mise à disposition d'une valeur électrique proportionnelle à la température du couvercle [18] de la casserole.</p>

<h3>Conception et réalisation</h3>

<p>Le capteur de température [17] est conçu et réalisé à partir d'un thermocouple de type K qui utilise une jonction <strong>chromel</strong> (nickel + chrome) <strong>/ alumel</strong> (nickel + aluminium).</p>

<p>Un article de la revue Mesures atteste que <a href="http://www.mesures.com/component/k2/item/14381-les-capteurs-de-temperature-a-la-fete">les thermocouples devraient représenter la plus grande part du marché en 2023</a>.</p>

<p>La photo ci-contre  montre la <a href="https://fr.wikipedia.org/wiki/Thermocouple">soudure chaude</a>
<img src="https://github.com/AIREL46/SCAO/blob/master/wiki/thermo-soud.png" alt="Thermocouple soudure" title="" /> d'un thermocouple de type K.</p>

<p>En principe, un thermocouple peut être  fabriquer soi-même de  <a href="http://forums.futura-sciences.com/electronique/173470-fabrication-dun-thermocouple.html">manière "artisanal"</a>, j'ai moi-même essayé mais sans succès pour le moment. La difficulté est de réaliser la soudure du chromel et de l'alumel. Il faut faire appel à une source de chaleur qui permette d'atteindre la fusion des 2 alliages. De mon expérience, un briquet, la gazinière ou une lampe à souder de type "camping gaz" sont insuffisants. Dans le meilleur des cas, l'intensité de la source de chaleur permet aux 2 alliages de prendre la couleur rouge clair. En conclusion, un poste de soudure de type <a href="https://fr.wikipedia.org/wiki/Chalumeau_(outil">chalumeau</a>) est nécessaire. Par exemple le <a href="https://www.multirex.net/micro-chalumeau-2800,fr,4,200024.cfm">micro chalumeau</a>.</p>

<p>Un exemple de câble de thermocouple est montré ci-dessous :</p>

<p><img src="https://github.com/AIREL46/SCAO/blob/master/wiki/thermo-cable.png" alt="Câble du thermocouple" title="" /></p>

<p>Il provient d'un thermocouple de <a href="https://fr.wikipedia.org/wiki/Thermocouple#Type_K">type K</a>, à l'origine, le câble était trop long, il a donc été coupé, ce câble :
* longueur = 90 mm
* la gaine est blanche/verte
* les 2 fils :
  * vert (recouvert d'une gaine thermorétractable bleue)
  * blanc (recouvert d'une gaine thermorétractable blanche)</p>

<p>Les mesures à l'Ohmêtre des 2 fils donnent :
* R(vert) = 8 Ohms
* R(blanc) = 3,5 Ohms.</p>

<h4>Version 1</h4>

<ul>
<li>Introduction du thermocouple dans le trou de l'entretoise. Sont maintien est assuré par :
<ul>
<li>une goutte de super glu introduite dans le trou</li>
<li>une gaine thermorétractable pour envelopper l'ensemble entretoise/thermocouple.
<h4>Version 2</h4></li>
</ul></li>
</ul>

<p><img src="https://github.com/AIREL46/SCAO/blob/master/wiki/thermo-equ.png" alt="Thermocouple équipé" title="" /></p>

<h2>La jupe [9]</h2>

<h3>Objet</h3>

<p>La jupe [9] habille la partie inférieure de la e-p-433.</p>

<h3>Conception</h3>

<p><img src="https://github.com/AIREL46/SCAO/blob/master/Ping/openscad/jupe-433.png" alt="jupe-433" title="" /></p>

<h3>Réalisation</h3>

<p>IMP3D</p>

<h2>L'isolateur [13]</h2>

<h3>Objet</h3>

<p>L'objet de l'isolateur est de réaliser une isolation thermique entre l'entretoise [16] et la jupe [9].</p>

<h3>Conception</h3>

<p><img src="https://github.com/AIREL46/SCAO/blob/master/Ping/LibreCAD/isolateur-433.png" alt="Isolateur de la e-poignée 433 MHZ" title="" /></p>

<h3>Réalisation</h3>

<p>Découpe laser</p>

<h2>Batterie LI-ION [4]</h2>

<h3>Objet</h3>

<p>L'objet de la batterie LI-ION est l'alimentation en tension continue des circuits électroniques du CI CMS e-p-433 [3].</p>

<h3>Conception</h3>

<p>La <a href="https://www.sparkfun.com/products/13851">Lithium Ion Battery - 400mAh</a> est décrite sur les sites Wikipédia français et anglais :
* <a href="https://fr.wikipedia.org/wiki/Accumulateur_lithium-ion">Accumulateur lithium-ion</a>
* <a href="https://en.wikipedia.org/wiki/Lithium-ion_battery">Lithium-ion battery</a>.</p>

<p>Son utilisation nécessite :
*  un chargeur adapté à ce type de technologie <a href="https://www.sparkfun.com/products/10217">SparkFun LiPo Charger Basic - Micro-USB</a>
* une attention particulière à la température en fonctionnement conduisant au strict respect des recommandations du constructeur. La <a href="https://cdn.sparkfun.com/datasheets/Prototyping/spe-00-502535-400mah-en-1.0ver.pdf">datasheet</a> du constructeur, concernant "Operating Temperature Range", en fonction du mode de fonctionnement, indique :
<em>* Charge 0 ~ 45°C
*</em> Discharge –20 ~ 60°C.</p>

<h3>Réalisation</h3>

<p>Approvisionnement.</p>

<h2>CI CMS e-p-433 [3]</h2>

<h3>Objet</h3>

<p>L'objet du CI CMS e-p-433 [3] est de grouper toutes les composants électroniques de l'e-p-433 à l'exception du thermocouple.</p>

<h3>Conception</h3>

<p><img src="https://github.com/AIREL46/SCAO/blob/master/kicad/e-p-433/e-p-433.png" alt="Schéma du circuit CMS e-p-433" title="" /></p>

<h4>Conception des fonctions</h4>

<h5>Amplificateur de thermocouple</h5>

<p>L'amplificateur de thermocouple est conçu à partir du circuit intégré <a href="https://fr.wikipedia.org/wiki/Composant_mont%C3%A9_en_surface">CMS</a> <a href="http://www.analog.com/en/index.html">ANALOG DEVICES</a> <a href="http://pdf.datasheetcatalog.com/datasheet/analogdevices2/AD8494_8495_8496_8497.pdf">AD8495</a>. Son schéma électrique :
<img src="https://github.com/AIREL46/SCAO/blob/master/kicad/e-p-433/e-p-433-amp.png" alt="Schéma de l'amplificateur de thermocouple" title="" /></p>

<h5>Microcontrôleur</h5>

<p><img src="https://github.com/AIREL46/SCAO/blob/master/kicad/e-p-433/e-p-433-mic.png" alt="Schéma du microcontrôleur" title="" /></p>

<h5>Calibration</h5>

<p><img src="https://github.com/AIREL46/SCAO/blob/master/kicad/e-p-433/e-p-433-cal.png" alt="Schéma du circuit calibration" title="" /></p>

<h5>Battery manager</h5>

<p><img src="https://github.com/AIREL46/SCAO/blob/master/kicad/e-p-433/e-p-433-bm.png" alt="Schéma Battery manager" title="" /></p>

<h5>3XLEDS</h5>

<p><img src="https://github.com/AIREL46/SCAO/blob/master/kicad/e-p-433/e-p-433-led.png" alt="Schéma du circuit LEDS" title="" /></p>

<h5>Emetteur 433MHZ</h5>

<p><img src="https://github.com/AIREL46/SCAO/blob/master/kicad/e-p-433/e-p-433-tr.png" alt="Schéma du circuit Emetteur" title="" /></p>

<h3>Réalisation (WBS)</h3>

<p>La réalisation du CI CMS e-p-433 [3] est traitée en un projet séparé. Il fait appel à un <a href="https://en.wikipedia.org/wiki/Work_breakdown_structure">"Work Breakdown Structure" (WBS)</a>. Le principe du WBS consiste à décomposer le projet en tâches élémentaires. Ces tâches sont représentées par le tableau ci-dessous :</p>

<p>Designation de la tâche | Founisseur | Type | Ref1| Ref2 | Note
------------|------------|-------------|-------------|-------------|-------------
 Projet |<a href="http://kicad-pcb.org/">Kicad</a> |  | <a href="https://github.com/AIREL46/SCAO/blob/master/kicad/e-p-433/e-p-433.pro">e-p-433.pro</a> || |
 Schéma électrique | <a href="http://kicad-pcb.org/">Kicad</a> | <a href="http://kicad-pcb.org/discover/eeschema/">Eeschema</a> | <a href="https://github.com/AIREL46/SCAO/blob/master/kicad/e-p-433/e-p-433.sch">e-p-433.sch</a> |  | 
 Génération netlist | <a href="http://kicad-pcb.org/">Kicad</a> | <a href="http://kicad-pcb.org/discover/eeschema/">Eeschema</a> | <a href="https://github.com/AIREL46/SCAO/blob/master/kicad/e-p-433/e-p-433.net">e-p-433.net</a> |  | 
 Génération BOM | <a href="http://kicad-pcb.org/">Kicad</a> | <a href="http://kicad-pcb.org/discover/eeschema/">Eeschema</a> | e-p-433 | <a href="https://github.com/AIREL46/SCAO/blob/master/kicad/e-p-433/e-p-433.ods">e-p-433.ods</a> | LibreOffice Calc
  Edition PCB | <a href="http://kicad-pcb.org/">Kicad</a> | <a href="http://kicad-pcb.org/discover/pcbnew/">Pcbnew</a> | e-p-433.kicad<em>pcb | e-p-433.net |
  Génération fichiers GERBER | <a href="http://kicad-pcb.org/">Kicad</a> | <a href="http://kicad-pcb.org/discover/pcbnew/">Pcbnew</a> | <a href="https://github.com/AIREL46/SCAO/blob/master/kicad/e-p-433/e-p-433.kicad_pcb">e-p-433.kicad</em>pcb</a> | Gerber | 
  Génération plan de per## CI CMS e-p-433 [3]çage | <a href="http://kicad-pcb.org/">Kicad</a> | <a href="http://kicad-pcb.org/discover/pcbnew/">Pcbnew</a> | e-p-433.kicad_pcb |<a href="https://github.com/AIREL46/SCAO/blob/master/kicad/e-p-433/e-p-433.drl">e-p-433.drl</a> | 
  CI nu et stencil | A définir | Achat | Fichiers Gerber |  | 
  Lot de composants | A définir | Achat | BOM |  | 
  CI - CMS | <a href="http://www.citedelobjetconnecte.com/">Iot city</a> | Fabrication | BOM + schémas |  | 
  CI - Composants traversants | <a href="http://fablabo.net/wiki/Utilisateur:LERUSTE_REGIS">RL</a> | Fabrication | BOM + schémas |  </p>
</html>
